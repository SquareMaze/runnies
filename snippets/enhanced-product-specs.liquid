{%- comment -%}
  Enhanced Product Specifications for RUNNIES Sunglasses
  Displays comprehensive product information including UV protection, materials, and care instructions
  
  Parameters:
  - product {Object} - Product object
  - current_variant {Object} - Current selected variant
  
  Usage:
  {% render 'enhanced-product-specs', product: product, current_variant: current_variant %}
{%- endcomment -%}

{%- liquid
  assign has_specs = false
  assign uv_protection = product.metafields.custom.uv_protection.value
  assign frame_material = product.metafields.custom.frame_material.value
  assign lens_material = product.metafields.custom.lens_material.value
  assign lens_color = product.metafields.custom.lens_color.value
  assign frame_color = product.metafields.custom.frame_color.value
  assign weight = product.metafields.custom.weight.value
  assign dimensions = product.metafields.custom.dimensions.value
  assign care_instructions = product.metafields.custom.care_instructions.value
  assign warranty = product.metafields.custom.warranty.value
  
  if uv_protection != blank or frame_material != blank or lens_material != blank or weight != blank or dimensions != blank
    assign has_specs = true
  endif
-%}

{%- if has_specs -%}
<div class="enhanced-product-specs" data-section="specifications">
  <div class="specs-header">
    <h3 class="specs-title">
      <svg class="specs-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
        <path d="M2 17l10 5 10-5"/>
        <path d="M2 12l10 5 10-5"/>
      </svg>
      Product Specifications
    </h3>
  </div>
  
  <div class="specs-grid">
    {%- if uv_protection != blank -%}
    <div class="spec-item">
      <div class="spec-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"/>
        </svg>
      </div>
      <div class="spec-content">
        <div class="spec-label">UV Protection</div>
        <div class="spec-value">{{ uv_protection }}</div>
      </div>
    </div>
    {%- endif -%}
    
    {%- if frame_material != blank -%}
    <div class="spec-item">
      <div class="spec-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
          <line x1="8" y1="21" x2="16" y2="21"/>
          <line x1="12" y1="17" x2="12" y2="21"/>
        </svg>
      </div>
      <div class="spec-content">
        <div class="spec-label">Frame Material</div>
        <div class="spec-value">{{ frame_material }}</div>
      </div>
    </div>
    {%- endif -%}
    
    {%- if lens_material != blank -%}
    <div class="spec-item">
      <div class="spec-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"/>
          <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"/>
        </svg>
      </div>
      <div class="spec-content">
        <div class="spec-label">Lens Material</div>
        <div class="spec-value">{{ lens_material }}</div>
      </div>
    </div>
    {%- endif -%}
    
    {%- if lens_color != blank -%}
    <div class="spec-item">
      <div class="spec-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"/>
        </svg>
      </div>
      <div class="spec-content">
        <div class="spec-label">Lens Color</div>
        <div class="spec-value">{{ lens_color }}</div>
      </div>
    </div>
    {%- endif -%}
    
    {%- if weight != blank -%}
    <div class="spec-item">
      <div class="spec-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <path d="M16 10a4 4 0 0 1-8 0"/>
        </svg>
      </div>
      <div class="spec-content">
        <div class="spec-label">Weight</div>
        <div class="spec-value">{{ weight }}</div>
      </div>
    </div>
    {%- endif -%}
    
    {%- if dimensions != blank -%}
    <div class="spec-item">
      <div class="spec-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
          <circle cx="9" cy="9" r="2"/>
          <path d="M21 15l-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
        </svg>
      </div>
      <div class="spec-content">
        <div class="spec-label">Dimensions</div>
        <div class="spec-value">{{ dimensions }}</div>
      </div>
    </div>
    {%- endif -%}
  </div>
  
  {%- if care_instructions != blank or warranty != blank -%}
  <div class="specs-additional">
    {%- if care_instructions != blank -%}
    <div class="care-instructions">
      <h4 class="care-title">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 9V5a3 3 0 0 0-6 0v4"/>
          <rect x="2" y="9" width="20" height="12" rx="2" ry="2"/>
        </svg>
        Care Instructions
      </h4>
      <div class="care-content">{{ care_instructions }}</div>
    </div>
    {%- endif -%}
    
    {%- if warranty != blank -%}
    <div class="warranty-info">
      <h4 class="warranty-title">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
        </svg>
        Warranty
      </h4>
      <div class="warranty-content">{{ warranty }}</div>
    </div>
    {%- endif -%}
  </div>
  {%- endif -%}
</div>

<style>
.enhanced-product-specs {
  margin: 2rem 0;
  padding: 1.5rem;
  background: #f8f9fa;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.specs-header {
  margin-bottom: 1.5rem;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid #ffeb01;
}

.specs-title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0;
  font-size: 1.25rem;
  font-weight: 600;
  color: #232323;
}

.specs-icon {
  color: #ffeb01;
}

.specs-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.spec-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  transition: all 0.2s ease;
}

.spec-item:hover {
  border-color: #ffeb01;
  box-shadow: 0 2px 8px rgba(255, 235, 1, 0.1);
}

.spec-icon {
  flex-shrink: 0;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #ffeb01;
  border-radius: 8px;
  color: #232323;
}

.spec-content {
  flex: 1;
}

.spec-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #6c757d;
  margin-bottom: 0.25rem;
}

.spec-value {
  font-size: 1rem;
  font-weight: 600;
  color: #232323;
}

.specs-additional {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1rem;
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid #e9ecef;
}

.care-instructions,
.warranty-info {
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.care-title,
.warranty-title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 0 0.75rem 0;
  font-size: 1rem;
  font-weight: 600;
  color: #232323;
}

.care-content,
.warranty-content {
  font-size: 0.875rem;
  line-height: 1.5;
  color: #495057;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .enhanced-product-specs {
    margin: 1rem 0;
    padding: 1rem;
  }
  
  .specs-grid {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }
  
  .specs-additional {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }
  
  .spec-item {
    padding: 0.5rem;
  }
  
  .spec-icon {
    width: 32px;
    height: 32px;
  }
}
</style>
{%- endif -%}
